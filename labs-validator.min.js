/**
 * labsValidator.js 1.1.2
 * Author: Cres Jie Labasano
 * Email: cresjie@gmail.com
 * Standalone and lightweight form/data validation for the frontend
 */
!function(t,n,r){"use strict";function a(t){n.addEventListener?n.addEventListener("DOMContentLoaded",function(e){t.call(this,e)}):n.attachEvent&&n.attachEvent("onreadystatechange",function(){"complete"===n.readyState&&t.call(this,e)})}"undefined"!=typeof jQuery&&(r=jQuery);var i=!1,u={min:function(e,t){if(e){var n=Number(e);return n?n>=t:e.length>=t}},max:function(e,t){return!this.min(e,t)},email:function(e){var t=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return t.test(e)},required:function(e,t,n,r,a,i,u){return e?!0:!1},requiredIf:function(e,t,n,r,a,i,u){var s=t.split(":");return i[s[0]]==s[1]?this.required(e):!0},number:function(e,t){return Number(e)?!0:!1},between:function(e,t){var n=t.split(",");return e>=n[0]&&e<=n[1]},same:function(e,t,n,r,a,i,u){return e==i[t]},_in:function(e,t){var n=t.split(",");return n.indexOf(e)>-1?!0:!1},notIn:function(e,t){var n=t.split(",");return-1==n.indexOf(e)?!0:!1},"boolean":function(e){var t=[!0,!1,0,1,"0","1"];return t.indexOf(e)?!0:!1},startsWith:function(e,t){var n=new RegExp("^"+t);return n.test(e)},endsWith:function(e,t){var n=new RegExp(t+"$");return n.test(e)},regexp:function(e,t){var n=new RegExp(t);return n.test(e)},url:function(e){try{return new URL(e),!0}catch(t){return!1}},alpha:function(e){return/^[a-zA-Z]*$/.test(e)},alphaNum:function(){return/^[a-zA-Z0-9]*$/.test(val)},alphaNumDash:function(){return/^[a-zA-Z0-9\-]*$/.test(val)}},s={_default:"Invalid input",min:function(e,t){return name+" should be atleast "+t},max:function(e,t,n){return n+" should not be greater than "+t},email:function(e){return"Invalid email"},required:function(e,t,n){return n+" is required"},requiredIf:function(e,t,n){return n+" is required"},number:function(e,t,n){return n+" should be a valid number"},between:function(e,t,n){var r=t.split(",");return n+" must be between "+r[0]+" and "+r[1]},same:function(e,t,n,r,a){return n+" and "+a.toDisplayableName(t)+" must match"},"boolean":function(e,t,n){return n+" must be true or false"},startsWith:function(e,t,n){return n+" must starts with "+t},endsWith:function(e,t,n){return n+" must ends with "+t},url:function(e,t,n){return n+" must be a valid URL"},alpha:function(e,t,n){return n+" may only contain letters"},alphaNum:function(e,t,n){return n+" may only container letters and numbers"},alphaNumDash:function(e,t,n){return n+" may only contain letters, numbers and dash"}},o={toDisplayableName:function(e,t){t="undefined"!=typeof t?t:"[-_]";var n=new RegExp(t+".","g");return e=e.replace(/^./,function(e){return e.toUpperCase()}),e=e.replace(n,function(e){return" "+e[1].toUpperCase()})},toSnakeCase:function(e,t){return t="undefined"!=typeof t?t:"[-_]",e=this.toCamelCase(e,t)},toCamelCase:function(e,t){t="undefined"!=typeof t?t:"[-_]";var n=new RegExp(t+"([a-z])","g");return e.replace(n,function(e){return e[1].toUpperCase()})},toDashCase:function(e,t){return t="undefined"!=typeof t?t:"_",e.replace(/\s+/g,t).toLowerCase()},copy:function(e,t){for(var n in t)e[n]=e[n];return e},addClass:function(e,t){var n=e.className.split(" ");return n.push(t),e.className=n.join(" "),this}};t.labsValidator=function(){function e(e,n){i?t(e,n):r?r(function(){i=!0,t(e,n)}):a(function(){i=!0,t(e,n)})}function t(e,t){f=n.getElementById(e),c=o.copy(m,t)}function l(){for(var e=f.getElementsByClassName(c.mainClass),t=e.length,n=0;t>n;n++)e.item(0).remove();e=f.getElementsByClassName(c.errorFieldClass),t=e.length;for(var n=0;t>n;n++){var r=e.item(0),a=r.className.split(" "),i=a.indexOf(c.errorFieldClass);i>-1&&(a.splice(i,1),r.className=a.join(" "))}}var f,c,d={},m={errorWrapper:"p",mainClass:"labs-validator",errorFieldClass:"labs-validator-error-field",attrPrefix:"validator-",autoDisplayErrors:!0},p={getValueOf:function(e){return f[e]?f[e].value:void 0},getFiles:function(e){return f[e]?f[e].files:void 0}};return e.apply(this,arguments),{fails:function(){return!this.passes()},passes:function(){this.reset();for(var e=!0,t=f.elements,n={},r=0;r<t.length;r++)n[t[r].name]=t[r].value;for(var r=0;r<t.length;r++)for(var a=t[r],i=a.attributes,l=0;l<i.length;l++){var m=i[l];if(u.startsWith(m.name,c.attrPrefix)){var v=o.toCamelCase(m.name.replace(c.attrPrefix,""));if(u[v]&&!u[v](f[a.name].value,m.value,o.toDisplayableName(a.name),a,o,n,p)){e=!1,d[r]||(d[r]={element:a,messages:[],validatorName:[]});var h=s[v]||s._default,b=h.constructor===String?h:h(a.value,m.value,o.toDisplayableName(a.name),a,o,n,p);d[r].messages.push(b),d[r].validatorName.push(o.toDashCase(v))}if("required"==v&&!e)break}}return c.autoDisplayErrors&&this.displayErrors(),e},displayErrors:function(){for(var e in d){o.addClass(d[e].element,c.errorFieldClass);for(var t in d[e].messages){var r=n.createElement(c.errorWrapper);r.innerHTML=d[e].messages[t],o.addClass(r,c.mainClass+" "+d[e].validatorName.join(" ")),d[e].element.insertAdjacentHTML("afterEnd",r.outerHTML)}}return this},reset:function(){return d={},l(),this},getErrors:function(){return d}}},t.labsValidator.addValidator=function(e,t){return u[e]=t,this},t.labsValidator.addValidatorMsg=function(e,t){return s[e]=t,this},t.labsValidator.validate=function(e,t){var n=!0,r={};for(var a in t){var i=t[a].split("|");for(var l in i){var f=i[l].split("="),c=o.toCamelCase(f[0]);if(u[c]&&!u[c](e[a],f[1],o.toDisplayableName(a),null,o,e,null)){n=!1,r[a]||(r[a]=[]);var d=s[c]||s._default,m=d.constructor===String?d:d(e[a],f[1],o.toDisplayableName(a),null,o,e,null);r[a].push(m)}}}return{pass:n,errorMessages:r}},a(function(e){i=!0})}(window,document);